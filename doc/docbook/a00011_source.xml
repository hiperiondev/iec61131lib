<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_a00011_source" xml:lang="en-US">
<title>util_stack.h</title>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="_a00011_source_1l00001"/>00001 <emphasis role="preprocessor">#ifndef&#32;__STACK_H__</emphasis>
<anchor xml:id="_a00011_source_1l00002"/>00002 <emphasis role="preprocessor">#define&#32;__STACK_H__</emphasis>
<anchor xml:id="_a00011_source_1l00003"/>00003 
<anchor xml:id="_a00011_source_1l00004"/>00004 <emphasis role="preprocessor">#include&#32;&lt;stdbool.h&gt;</emphasis>
<anchor xml:id="_a00011_source_1l00005"/>00005 <emphasis role="preprocessor">#include&#32;&lt;stddef.h&gt;</emphasis>
<anchor xml:id="_a00011_source_1l00006"/>00006 
<anchor xml:id="_a00011_source_1l00012"/><link linkend="_a00113">00012</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_a00113">stack_node_t</link>&#32;{
<anchor xml:id="_a00011_source_1l00013"/><link linkend="_a00113_a30af385bc2a15ac1f0e92117972769ff_1a30af385bc2a15ac1f0e92117972769ff">00013</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_a00113">stack_node_t</link>&#32;*<link linkend="_a00113_a30af385bc2a15ac1f0e92117972769ff_1a30af385bc2a15ac1f0e92117972769ff">next</link>;&#32;
<anchor xml:id="_a00011_source_1l00014"/><link linkend="_a00113_a735984d41155bc1032e09bece8f8d66d_1a735984d41155bc1032e09bece8f8d66d">00014</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;*<link linkend="_a00113_a735984d41155bc1032e09bece8f8d66d_1a735984d41155bc1032e09bece8f8d66d">data</link>;&#32;
<anchor xml:id="_a00011_source_1l00015"/><link linkend="_a00011_a3413cc1c374aeb01c66275eddc5bbbd0_1a3413cc1c374aeb01c66275eddc5bbbd0">00015</link> }&#32;<link linkend="_a00113">stack_node_t</link>;
<anchor xml:id="_a00011_source_1l00016"/>00016 
<anchor xml:id="_a00011_source_1l00022"/><link linkend="_a00117">00022</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_a00117">stack_t</link>&#32;{
<anchor xml:id="_a00011_source_1l00023"/><link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">00023</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_a00113">stack_node_t</link>&#32;*<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>;&#32;&#32;&#32;&#32;
<anchor xml:id="_a00011_source_1l00024"/><link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">00024</link> &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">length</link>;&#32;
<anchor xml:id="_a00011_source_1l00025"/><link linkend="_a00011_aca51d9a1c3b1ac1b2b54ed9dd7c26981_1aca51d9a1c3b1ac1b2b54ed9dd7c26981">00025</link> }&#32;*<link linkend="_a00117">stack_t</link>;
<anchor xml:id="_a00011_source_1l00026"/>00026 
<anchor xml:id="_a00011_source_1l00033"/><link linkend="_a00011_a107f81b1726bd5ab54b420142748d3e8_1a107f81b1726bd5ab54b420142748d3e8">00033</link> <link linkend="_a00117">stack_t</link>&#32;<link linkend="_a00011_a107f81b1726bd5ab54b420142748d3e8_1a107f81b1726bd5ab54b420142748d3e8">stack_create</link>()&#32;{
<anchor xml:id="_a00011_source_1l00034"/>00034 &#32;&#32;&#32;&#32;<link linkend="_a00117">stack_t</link>&#32;stack&#32;=&#32;(<emphasis role="keyword">struct&#32;</emphasis><link linkend="_a00117">stack_t</link>*)&#32;malloc(<emphasis role="keyword">sizeof</emphasis>(<emphasis role="keyword">struct</emphasis>&#32;<link linkend="_a00117">stack_t</link>));
<anchor xml:id="_a00011_source_1l00035"/>00035 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(stack&#32;==&#32;NULL)
<anchor xml:id="_a00011_source_1l00036"/>00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;NULL;
<anchor xml:id="_a00011_source_1l00037"/>00037 &#32;&#32;&#32;&#32;stack-&gt;<link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">length</link>&#32;=&#32;0;
<anchor xml:id="_a00011_source_1l00038"/>00038 &#32;&#32;&#32;&#32;stack-&gt;<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>&#32;=&#32;NULL;
<anchor xml:id="_a00011_source_1l00039"/>00039 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;stack;
<anchor xml:id="_a00011_source_1l00040"/>00040 }
<anchor xml:id="_a00011_source_1l00041"/>00041 
<anchor xml:id="_a00011_source_1l00050"/><link linkend="_a00011_a3e6e1309488216db3875c39028b06d3c_1a3e6e1309488216db3875c39028b06d3c">00050</link> <link linkend="_a00117">stack_t</link>&#32;<link linkend="_a00011_a3e6e1309488216db3875c39028b06d3c_1a3e6e1309488216db3875c39028b06d3c">stack_push</link>(<link linkend="_a00117">stack_t</link>&#32;stack,&#32;<emphasis role="keywordtype">void</emphasis>&#32;*data)&#32;{
<anchor xml:id="_a00011_source_1l00051"/>00051 &#32;&#32;&#32;&#32;<link linkend="_a00113">stack_node_t</link>&#32;*node&#32;=&#32;(<emphasis role="keyword">struct&#32;</emphasis><link linkend="_a00113">stack_node_t</link>*)&#32;malloc(<emphasis role="keyword">sizeof</emphasis>(<emphasis role="keyword">struct</emphasis>&#32;<link linkend="_a00113">stack_node_t</link>));
<anchor xml:id="_a00011_source_1l00052"/>00052 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(node&#32;==&#32;NULL)
<anchor xml:id="_a00011_source_1l00053"/>00053 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;NULL;
<anchor xml:id="_a00011_source_1l00054"/>00054 &#32;&#32;&#32;&#32;node-&gt;<link linkend="_a00113_a735984d41155bc1032e09bece8f8d66d_1a735984d41155bc1032e09bece8f8d66d">data</link>&#32;=&#32;<link linkend="_a00113_a735984d41155bc1032e09bece8f8d66d_1a735984d41155bc1032e09bece8f8d66d">data</link>;
<anchor xml:id="_a00011_source_1l00055"/>00055 
<anchor xml:id="_a00011_source_1l00056"/>00056 &#32;&#32;&#32;&#32;node-&gt;<link linkend="_a00113_a30af385bc2a15ac1f0e92117972769ff_1a30af385bc2a15ac1f0e92117972769ff">next</link>&#32;=&#32;stack-&gt;<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>;
<anchor xml:id="_a00011_source_1l00057"/>00057 &#32;&#32;&#32;&#32;stack-&gt;<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>&#32;=&#32;node;
<anchor xml:id="_a00011_source_1l00058"/>00058 
<anchor xml:id="_a00011_source_1l00059"/>00059 &#32;&#32;&#32;&#32;stack-&gt;<link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">length</link>++;
<anchor xml:id="_a00011_source_1l00060"/>00060 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;stack;
<anchor xml:id="_a00011_source_1l00061"/>00061 }
<anchor xml:id="_a00011_source_1l00062"/>00062 
<anchor xml:id="_a00011_source_1l00063"/><link linkend="_a00011_ac8883b8ba7dc90eb8b5c983da191e465_1ac8883b8ba7dc90eb8b5c983da191e465">00063</link> <emphasis role="keywordtype">void</emphasis>*&#32;<link linkend="_a00011_ac8883b8ba7dc90eb8b5c983da191e465_1ac8883b8ba7dc90eb8b5c983da191e465">stack_pop</link>(<link linkend="_a00117">stack_t</link>&#32;stack)&#32;{
<anchor xml:id="_a00011_source_1l00064"/>00064 &#32;&#32;&#32;&#32;<link linkend="_a00113">stack_node_t</link>&#32;*current&#32;=&#32;stack-&gt;<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>;
<anchor xml:id="_a00011_source_1l00065"/>00065 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(current&#32;==&#32;NULL)
<anchor xml:id="_a00011_source_1l00066"/>00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;NULL;
<anchor xml:id="_a00011_source_1l00067"/>00067 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;*<link linkend="_a00113_a735984d41155bc1032e09bece8f8d66d_1a735984d41155bc1032e09bece8f8d66d">data</link>&#32;=&#32;current-&gt;<link linkend="_a00113_a735984d41155bc1032e09bece8f8d66d_1a735984d41155bc1032e09bece8f8d66d">data</link>;
<anchor xml:id="_a00011_source_1l00068"/>00068 &#32;&#32;&#32;&#32;stack-&gt;<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>&#32;=&#32;stack-&gt;<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>-&gt;<link linkend="_a00113_a30af385bc2a15ac1f0e92117972769ff_1a30af385bc2a15ac1f0e92117972769ff">next</link>;
<anchor xml:id="_a00011_source_1l00069"/>00069 
<anchor xml:id="_a00011_source_1l00070"/>00070 &#32;&#32;&#32;&#32;free(current);
<anchor xml:id="_a00011_source_1l00071"/>00071 &#32;&#32;&#32;&#32;stack-&gt;<link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">length</link>--;
<anchor xml:id="_a00011_source_1l00072"/>00072 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_a00113_a735984d41155bc1032e09bece8f8d66d_1a735984d41155bc1032e09bece8f8d66d">data</link>;
<anchor xml:id="_a00011_source_1l00073"/>00073 }
<anchor xml:id="_a00011_source_1l00074"/>00074 
<anchor xml:id="_a00011_source_1l00075"/><link linkend="_a00011_a42359043c6700c6c6362ec63a599156f_1a42359043c6700c6c6362ec63a599156f">00075</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_a00011_a42359043c6700c6c6362ec63a599156f_1a42359043c6700c6c6362ec63a599156f">stack_flush</link>(<link linkend="_a00117">stack_t</link>&#32;stack)&#32;{
<anchor xml:id="_a00011_source_1l00076"/>00076 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;length&#32;=&#32;stack-&gt;<link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">length</link>;
<anchor xml:id="_a00011_source_1l00077"/>00077 &#32;&#32;&#32;&#32;<link linkend="_a00113">stack_node_t</link>&#32;*current,&#32;*<link linkend="_a00113_a30af385bc2a15ac1f0e92117972769ff_1a30af385bc2a15ac1f0e92117972769ff">next</link>;
<anchor xml:id="_a00011_source_1l00078"/>00078 &#32;&#32;&#32;&#32;current&#32;=&#32;stack-&gt;<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>;
<anchor xml:id="_a00011_source_1l00079"/>00079 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>&#32;(length--)&#32;{
<anchor xml:id="_a00011_source_1l00080"/>00080 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_a00113_a30af385bc2a15ac1f0e92117972769ff_1a30af385bc2a15ac1f0e92117972769ff">next</link>&#32;=&#32;current-&gt;<link linkend="_a00113_a30af385bc2a15ac1f0e92117972769ff_1a30af385bc2a15ac1f0e92117972769ff">next</link>;
<anchor xml:id="_a00011_source_1l00081"/>00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;free(current);
<anchor xml:id="_a00011_source_1l00082"/>00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;current&#32;=&#32;<link linkend="_a00113_a30af385bc2a15ac1f0e92117972769ff_1a30af385bc2a15ac1f0e92117972769ff">next</link>;
<anchor xml:id="_a00011_source_1l00083"/>00083 &#32;&#32;&#32;&#32;}
<anchor xml:id="_a00011_source_1l00084"/>00084 
<anchor xml:id="_a00011_source_1l00085"/>00085 &#32;&#32;&#32;&#32;stack-&gt;<link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">length</link>&#32;=&#32;0;
<anchor xml:id="_a00011_source_1l00086"/>00086 &#32;&#32;&#32;&#32;stack-&gt;<link linkend="_a00117_a48a8ea69c7f38da68a61ab06b7304c90_1a48a8ea69c7f38da68a61ab06b7304c90">top</link>&#32;=&#32;NULL;
<anchor xml:id="_a00011_source_1l00087"/>00087 }
<anchor xml:id="_a00011_source_1l00088"/>00088 
<anchor xml:id="_a00011_source_1l00089"/><link linkend="_a00011_a198e52b336a0fb20ec0c049c0439d213_1a198e52b336a0fb20ec0c049c0439d213">00089</link> <emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_a00011_a198e52b336a0fb20ec0c049c0439d213_1a198e52b336a0fb20ec0c049c0439d213">stack_size</link>(<link linkend="_a00117">stack_t</link>&#32;stack)&#32;{
<anchor xml:id="_a00011_source_1l00090"/>00090 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;stack-&gt;<link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">length</link>;
<anchor xml:id="_a00011_source_1l00091"/>00091 }
<anchor xml:id="_a00011_source_1l00092"/>00092 
<anchor xml:id="_a00011_source_1l00093"/><link linkend="_a00011_a4d77f1f7bc09c81a4fedd03b425c1575_1a4d77f1f7bc09c81a4fedd03b425c1575">00093</link> <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_a00011_a4d77f1f7bc09c81a4fedd03b425c1575_1a4d77f1f7bc09c81a4fedd03b425c1575">stack_empty</link>(<link linkend="_a00117">stack_t</link>&#32;stack)&#32;{
<anchor xml:id="_a00011_source_1l00094"/>00094 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;stack-&gt;<link linkend="_a00117_a9f59b34b1f25fe00023291b678246bcc_1a9f59b34b1f25fe00023291b678246bcc">length</link>&#32;==&#32;0&#32;?&#32;1&#32;:&#32;0;
<anchor xml:id="_a00011_source_1l00095"/>00095 }
<anchor xml:id="_a00011_source_1l00096"/>00096 
<anchor xml:id="_a00011_source_1l00097"/><link linkend="_a00011_a231e3533fc7f6ea2f3db2f5cd8b71b51_1a231e3533fc7f6ea2f3db2f5cd8b71b51">00097</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_a00011_a231e3533fc7f6ea2f3db2f5cd8b71b51_1a231e3533fc7f6ea2f3db2f5cd8b71b51">stack_release</link>(<link linkend="_a00117">stack_t</link>&#32;stack)&#32;{
<anchor xml:id="_a00011_source_1l00098"/>00098 &#32;&#32;&#32;&#32;<link linkend="_a00011_a4d77f1f7bc09c81a4fedd03b425c1575_1a4d77f1f7bc09c81a4fedd03b425c1575">stack_empty</link>(stack);
<anchor xml:id="_a00011_source_1l00099"/>00099 &#32;&#32;&#32;&#32;free(stack);
<anchor xml:id="_a00011_source_1l00100"/>00100 }
<anchor xml:id="_a00011_source_1l00101"/>00101 
<anchor xml:id="_a00011_source_1l00102"/>00102 <emphasis role="preprocessor">#endif</emphasis>
</programlisting></section>
